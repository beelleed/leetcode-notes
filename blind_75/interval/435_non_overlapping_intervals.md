# ğŸŸ¦ LeetCode 435 â€” Erase Overlap Intervals / åˆªé™¤æœ€å°‘é‡ç–Šå€é–“
ğŸ”— [é¡Œç›®é€£çµ](https://leetcode.com/problems/non-overlapping-intervals/)

---

## ğŸ“„ é¡Œç›®èªªæ˜ | Problem Description

**ä¸­æ–‡**  
çµ¦å®šä¸€çµ„å€é–“ `intervals`ï¼ˆæ¯å€‹å€é–“ç‚º `[start, end)`ï¼‰ï¼Œæ‰¾å‡ºæœ€å°‘è¦åˆªé™¤å¤šå°‘å€‹å€é–“ï¼Œä½¿å‰©ä¸‹çš„å€é–“äº’ç›¸ **ä¸é‡ç–Š**ã€‚  
è‹¥å…©å€‹å€é–“çš„ç«¯é»é‡ç–Šï¼ˆä¾‹å¦‚ one çš„ end = anotherâ€™s startï¼‰ï¼Œé€šå¸¸ä¸ç®—é‡ç–Šï¼ˆè¦–é¡Œç›®è€Œå®šï¼‰ã€‚

**English**  
Given a collection of intervals, find the minimum number of intervals you need to remove to make the rest of the intervals non-overlapping.

**Examples**
- Example 1:

    - Input: intervals = [[1,2],[2,3],[3,4],[1,3]]
    - Output: 1
    - Explanation: [1,3] can be removed and the rest of the intervals are non-overlapping.

- Example 2:

    - Input: intervals = [[1,2],[1,2],[1,2]]
    - Output: 2
    - Explanation: You need to remove two [1,2] to make the rest of the intervals non-overlapping.

- Example 3:

    - Input: intervals = [[1,2],[2,3]]
    - Output: 0
    - Explanation: You don't need to remove any of the intervals since they're already non-overlapping.

---

## ğŸ§  è§£æ³•æ€è·¯ | Solution Idea

é€™é¡Œçš„ç¶“å…¸è²ªå¿ƒç­–ç•¥æ˜¯ï¼š

1. **å…ˆæŠŠæ‰€æœ‰å€é–“æŒ‰çµæŸæ™‚é–“æ’åº**ï¼ˆ`intervals.sort(key = end)`ï¼‰  
   ç‚ºä»€éº¼ï¼Ÿå› ç‚ºå¦‚æœä¸€å€‹å€é–“çµæŸå¾—æ—©ï¼Œé‚£éº¼å®ƒç•™çµ¦å¾Œé¢å€é–“çš„ã€Œç©ºé–“ã€æ¯”è¼ƒå¤§ï¼Œè¡çªæ©Ÿæœƒæ¯”è¼ƒä½ã€‚

2. ä»¥ `prev_end` è¨˜éŒ„ä¸Šä¸€æ¬¡é¸æ“‡ä¿ç•™çš„å€é–“çš„çµæŸæ™‚é–“ã€‚

3. å¾ç¬¬äºŒå€‹å€é–“é–‹å§‹éæ­·ï¼Œæ¯æ¬¡é‡åˆ°ï¼š
   - è‹¥ `start < prev_end`ï¼šè¡¨ç¤ºé€™å€‹å€é–“å’Œä¸Šæ¬¡ä¿ç•™çš„å€é–“è¡çª â†’ å¿…é ˆåˆªé™¤é€™å€‹ï¼Œ`count += 1`
   - å¦å‰‡ï¼šé€™å€‹å€é–“ä¸è¡çª â†’ æˆ‘å€‘æŠŠå®ƒä¿ç•™ä¸‹ä¾†ï¼Œæ›´æ–° `prev_end = end`

æœ€çµ‚ `count` å°±æ˜¯è¦åˆªæ‰çš„æœ€å°å€é–“æ•¸ã€‚

é€™ç¨®æ€è·¯çš„æ ¸å¿ƒæ˜¯ï¼š**æ¯æ¬¡éƒ½é¸ä¸€å€‹çµæŸæœ€æ—©ã€èˆ‡å·²é¸ã€Œä¸è¡çªã€çš„å€é–“**ï¼Œä»¥æœ€å¤§åŒ–å¯ä¿ç•™å€é–“æ•¸é‡ï¼Œå¾è€Œæœ€å°åŒ–åˆªé™¤æ•¸é‡ã€‚

---

## ğŸ’» ç¨‹å¼ç¢¼

```python
from typing import List

class Solution:
    def eraseOverlapIntervals(self, intervals: List[List[int]]) -> int:
        if not intervals:
            return 0
        
        # æŒ‰å€é–“çµæŸæ™‚é–“æ’åº
        intervals.sort(key=lambda x: x[1])

        count = 0
        prev_end = intervals[0][1]

        for i in range(1, len(intervals)):
            start, end = intervals[i]
            if start < prev_end:
                # è¡çªï¼šåˆªé™¤ç•¶å‰é€™å€‹å€é–“
                count += 1
            else:
                # ç„¡è¡çªï¼šä¿ç•™ç•¶å‰å€é–“ï¼Œæ›´æ–° prev_end
                prev_end = end
        
        return count
```
```python
if not intervals:
    return 0
```
- å¦‚æœè¼¸å…¥æ˜¯ç©ºåˆ—è¡¨ï¼Œæ²’æœ‰å€é–“è¦è™•ç†ï¼Œå›å‚³ 0ã€‚

```python
intervals.sort(key=lambda x: x[1])
```
- å°‡å€é–“æŒ‰çµæŸæ™‚é–“æ’åºã€‚

- æ’åºä¿è­‰æˆ‘å€‘å…ˆè€ƒæ…®çµæŸæœ€æ—©çš„å€é–“ï¼Œä½¿å¾ŒçºŒä¿ç•™æœ€æœ‰ç©ºé–“ã€‚ 
    - æƒ…æ³ Aï¼šé¸ä¸€å€‹ã€ŒçµæŸå¾ˆæ™šã€çš„å€é–“ âŒ
        ```text
        é¸ï¼š[1 ---------------------- 10]
        ```

        - é€™ä»£è¡¨ä»€éº¼ï¼Ÿ

            - ä½ å¾ 1 ä¸€è·¯å åˆ° 10

            - å¾Œé¢å¹¾ä¹æ²’ä»»ä½•å€é–“èƒ½å†æ¥

            - å¾ˆå¤šæœ¬ä¾†å¯ä»¥ç•™ä¸‹çš„ï¼Œéƒ½æœƒå› ç‚ºè·Ÿå®ƒé‡ç–Šè€Œè¢«è¿«åˆªæ‰

            ğŸ‘‰ é€™å«ã€ŒæŠŠå¾Œè·¯å µæ­»ã€

    - æƒ…æ³ Bï¼šé¸ä¸€å€‹ã€ŒçµæŸå¾ˆæ—©ã€çš„å€é–“ âœ…
        ```text
        é¸ï¼š[1 -- 2]
        ```

        - æ¥ä¸‹ä¾†ä½ é‚„èƒ½æ¥ï¼š
            ```text
            [2 -- 3]
                [3 -- 4]
                    [4 -- 5]
            ```

        - ğŸ‘‰ ä½ æœƒç™¼ç¾ï¼š

            - ä½ æ²’æœ‰æµªè²»æ™‚é–“è»¸

            - å¾Œé¢èƒ½æ¥çš„é¸æ“‡è®Šå¤š

            - æœ€å¾Œç•™ä¸‹çš„å€é–“æ•¸é‡æœ€å¤š

            - â†’ ç§»é™¤çš„æ•¸é‡æœ€å°‘

        - é€™å°±æ˜¯ã€Œæœ€æœ‰ç©ºé–“ã€ã€‚

- è²ªå¿ƒæ ¸å¿ƒé‚è¼¯: å¦‚æœæˆ‘å€‘å…ˆé¸çµæŸå¾—æœ€æ—©çš„å€é–“ï¼Œé‚£å®ƒç•™ä¸‹çš„ã€Œå¾Œé¢å¯ç”¨æ™‚é–“ã€æœ€å¤š â†’ æ›´å®¹æ˜“å®¹ç´æ›´å¤šå€é–“ã€‚

### å¦‚æœç”¨é–‹å§‹æ’åˆ—intervals.sort(key=lambda x:x[0])
- ç¯„ä¾‹: intervals = [[1,100], [11,12], [12,13], [13,14]]

- æ’åºå¾Œä¸€æ¨£ã€‚

- ä½ çš„ç¨‹å¼ï¼š

    - prev_end = 100

    - çœ‹ [11,12]ï¼šstart=11 < 100 â†’ count=1ï¼ˆä½ ç­‰æ–¼åˆªæ‰ [11,12]ï¼‰

    - çœ‹ [12,13]ï¼š12 < 100 â†’ count=2

    - çœ‹ [13,14]ï¼š13 < 100 â†’ count=3

- æœ€å¾Œå›å‚³ 3ã€‚

- ä½†ç›´è¦ºå°±çŸ¥é“ï¼šå…¶å¯¦åªè¦ç§»é™¤é‚£å€‹è¶…å¤§çš„ [1,100]ï¼Œå¾Œé¢ä¸‰å€‹å¹¾ä¹éƒ½èƒ½ç•™ä¸‹ä¾†ï¼Œç§»é™¤æ•¸ä¸æœƒé‚£éº¼å¤šã€‚

ğŸ‘‰ éŒ¯èª¤ä¾†æºå°±æ˜¯ï¼šé‡ç–Šæ™‚ä½ ä¸€ç›´æ­»å®ˆ prev_end=100 ä¸æ”¾ã€‚

```python
count = 0
prev_end = intervals[0][1]
```
- count è¨ˆæ•¸è¦åˆªæ‰çš„å€é–“æ•¸ã€‚

- prev_end è¨­ç‚ºç¬¬ä¸€å€‹å€é–“çš„çµæŸæ™‚é–“ï¼Œä½œç‚ºåƒè€ƒã€‚

```python
for i in range(1, len(intervals)):
    start, end = intervals[i]
    if start < prev_end:
        count += 1
    else:
        prev_end = end
```
- å¾ç¬¬äºŒå€‹å€é–“é–‹å§‹éæ­·ï¼š

    - è‹¥æ–°çš„å€é–“ start å°æ–¼ prev_end â†’ èˆ‡å·²ä¿ç•™çš„å€é–“è¡çª â†’ åˆªæ‰ç•¶å‰å€é–“ï¼ˆcount += 1ï¼‰

    - å¦å‰‡ â†’ ç„¡è¡çª â†’ ä¿ç•™ç•¶å‰å€é–“ï¼Œæ›´æ–° prev_end = end
- ä¹Ÿå¯ä»¥å¯«æˆ
    ```python
    for start, end in intervals[1:]:
    if start < prev_end:
        count += 1
    else:
        prev_end = end
    ```
    - intervals[1:] æœƒå»ºç«‹ä¸€å€‹æ–° list â†’ æ™‚é–“é¡å¤–å¤šèŠ± O(n) â†’ range å¯«æ³•ä¸æœƒï¼ˆæ›´å¿«ï¼‰

```python
return count
```
- æœ€å¾Œå›å‚³è¦åˆªé™¤çš„æœ€å°å€é–“æ•¸ã€‚

---

## ğŸ§ª ç¯„ä¾‹æ¼”ç®—
- å‡è¨­ï¼š

```lua
intervals = [[1,2], [2,3], [1,3]]
```
1. æ’åºå¾Œï¼ˆæŒ‰çµæŸæ™‚é–“ï¼‰ï¼š[[1,2], [2,3], [1,3]]

2. åˆå§‹åŒ–ï¼šprev_end = 2ï¼Œcount = 0

3. éæ­·ï¼š

    - i = 1 â†’ [2,3]ï¼Œstart = 2 >= prev_end = 2 â†’ ç„¡è¡çª â†’ ä¿ç•™ â†’ prev_end = 3

    - i = 2 â†’ [1,3]ï¼Œstart = 1 < prev_end = 3 â†’ è¡çª â†’ åˆªé™¤ â†’ count = 1

4. å›å‚³ 1

- æ„å‘³è‘—è‡³å°‘åˆªæ‰ä¸€å€‹å€é–“ï¼ˆåˆªæ‰ [1,3]ï¼‰å°±å¯ä»¥ä½¿å€é–“ä¸é‡ç–Šã€‚

- å¦ä¸€å€‹ä¾‹å­ï¼š

```lua
intervals = [[1,2],[2,3],[3,4],[1,3]]
```
- æ’åºå¾Œï¼šæŒ‰ end â†’ [[1,2],[2,3],[1,3],[3,4]]

- prev_end = 2

- i=1 [2,3] â†’ start=2 â‰¥ 2 â†’ ä¿ç•™ â†’ prev_end=3

- i=2 [1,3] â†’ start=1 < 3 â†’ è¡çª â†’ åˆªé™¤ â†’ count=1

- i=3 [3,4] â†’ start=3 â‰¥ prev_end=3 â†’ ä¿ç•™ â†’ prev_end=4

- å›å‚³ 1

---

## â± è¤‡é›œåº¦åˆ†æ
- æ™‚é–“è¤‡é›œåº¦ï¼š O(nlogn)ï¼Œå› ç‚ºæ’åºéœ€è¦ O(nlogn)ï¼Œéæ­·å†æ¯”è¼ƒèŠ± O(n)

- ç©ºé–“è¤‡é›œåº¦ï¼š O(1) æˆ– O(n)ï¼ˆå–æ±ºæ–¼æ’åºæ˜¯å¦åœ¨åŸåœ°é€²è¡Œï¼Œå…¶å¯¦ Python çš„ sort æ˜¯åŸåœ°çš„ï¼Œå› æ­¤æ˜¯ O(1) é¡å¤–ç©ºé–“ï¼‰

---

## âœ æˆ‘å­¸åˆ°äº†ä»€éº¼ / What I Learned
- æ’åº + è²ªå¿ƒæ˜¯å€é–“è¦†è“‹ï¼éé‡ç–Šé¡é¡Œç›®çš„é—œéµå¥—è·¯

- ç‚ºä»€éº¼æŒ‰ã€ŒçµæŸæ™‚é–“æ’åºã€ï¼šå› ç‚ºæ—©çµæŸçš„å€é–“ç•™ä¸‹æ›´å¤§ç©ºé–“çµ¦å¾Œä¾†çš„å€é–“

- åœ¨éæ­·æ™‚ä¿ç•™ã€Œæœ€å¾Œä¿ç•™çš„å€é–“çµæŸæ™‚é–“ã€å³å¯åšè¡çªåˆ¤æ–·

- è¦åˆªé™¤æœ€å°‘å€é–“ï¼Œå…¶å¯¦ç­‰åƒ¹æ–¼ã€Œä¿ç•™æœ€å¤šä¸é‡ç–Šå€é–“ã€çš„è£œé›†å•é¡Œ