# ğŸ”¢ LeetCode 19 â€“ Remove Nth Node From End of List

---

## ğŸ“„ é¡Œç›®èªªæ˜ | Problem Description

### **ä¸­æ–‡**ï¼š

çµ¦ä½ ä¸€å€‹å–®å‘éˆçµä¸²åˆ—çš„é ­ç¯€é» `head` å’Œæ•´æ•¸ `n`ï¼Œè«‹ç§»é™¤å¾æœ«å°¾æ•¸ä¾†ç¬¬ `n` å€‹ç¯€é»ï¼Œä¸¦å›å‚³ä¿®æ”¹å¾Œçš„éˆè¡¨çš„é ­ç¯€é»ã€‚  
### **English**: 

Given the head of a singly-linked list and an integer `n`, remove the n-th node from the end of the list and return its head.

### Examples
- Example 1:

![](../images/19_remove_ex1.jpg)

    Input: head = [1,2,3,4,5], n = 2
    Output: [1,2,3,5]

- Example 2:

    - Input: head = [1], n = 1
    - Output: []

- Example 3:

    - Input: head = [1,2], n = 1
    - Output: [1]

---

## ğŸ§  è§£é¡Œæ€è·¯ | Solution Idea

1. **å…©ééæ­·ï¼ˆTwoâ€‘Passï¼‰**  
   - ç¬¬ä¸€æ¬¡éæ­·æ•´å€‹éˆè¡¨ç®—å‡ºå®ƒçš„é•·åº¦ `L`ã€‚  
   - ç„¶å¾Œè¨ˆç®—å¾å‰é¢ä¾†ç¬¬ `L âˆ’ n` å€‹ç¯€é»ï¼ˆä¹Ÿå°±æ˜¯è¢«åˆªç¯€é»çš„å‰ä¸€å€‹ç¯€é»ï¼‰ã€‚  
   - å†æŠŠè©²ç¯€é»çš„ `next` èª¿æ•´æˆ `next.next`ï¼Œè·³éè¦åˆªçš„ç¯€é»ã€‚

2. **ä¸€æ¬¡éæ­· + é›™æŒ‡é‡ï¼ˆOneâ€‘Pass Twoâ€‘Pointerï¼‰** 
   - ä½¿ç”¨å…©æŒ‡é‡ `fast` å’Œ `slow`ï¼Œä¸¦åŠ ä¸€å€‹ dummy ç¯€é»æŒ‡å‘ `head`ï¼Œä»¥è™•ç†é‚Šç•Œï¼ˆä¾‹å¦‚è¦åˆªé™¤ç¬¬ä¸€å€‹ç¯€é»ï¼‰çš„æƒ…æ³ã€‚  
   - å…ˆè®“ `fast` å‘å‰èµ° `n` æ­¥ã€‚  
   - ç„¶å¾ŒåŒæ™‚è®“ `fast` å’Œ `slow` ä¸€èµ·å¾€å‰èµ°ï¼Œç›´åˆ° `fast` åˆ°é”å°¾ç«¯ã€‚æ­¤æ™‚ `slow` åœåœ¨è¦åˆªé™¤ç¯€é»çš„ **å‰ä¸€å€‹ç¯€é»**ã€‚  
   - èª¿æ•´ `slow.next = slow.next.next` è·³éè¢«åˆªé™¤çš„ç¯€é»ã€‚  
   - å›å‚³ `dummy.next`ï¼ˆæ–°çš„ headï¼‰ã€‚

---

## ğŸ’» ç¨‹å¼ç¢¼å¯¦ä½œ | Code (Python)

```python
from typing import Optional

class ListNode:
    def __init__(self, val: int=0, next: Optional['ListNode']=None):
        self.val = val
        self.next = next

class Solution:
    def removeNthFromEnd(self, head: Optional[ListNode], n: int) -> Optional[ListNode]:
        # å»ºç«‹ dummy ç¯€é»ä»¥è™•ç†è¦åˆªé™¤ head çš„é‚Šç•Œç‹€æ³
        dummy = ListNode(0)
        dummy.next = head

        fast = dummy
        slow = dummy

        # fast æŒ‡é‡å…ˆèµ° n æ­¥
        for _ in range(n):
            fast = fast.next

        # è‹¥ fast ç‚º Noneï¼Œä»£è¡¨åŸæœ¬ head é•·åº¦ç­‰æ–¼ nï¼Œéœ€è¦åˆªé™¤ head
        if not fast:
            return head.next

        # åŒæ™‚ç§»å‹• fast å’Œ slowï¼Œç›´åˆ° fast åˆ°æœ€å°¾ç«¯
        while fast.next:
            fast = fast.next
            slow = slow.next

        # slow.next å°±æ˜¯è¦åˆªé™¤çš„ç¯€é»
        slow.next = slow.next.next

        # å›å‚³ dummy.next ä½œç‚ºæ–°çš„ head
        return dummy.next
```

| å€æ®µ                                                    | åšä»€éº¼ / åŠŸèƒ½                           | ç‚ºä»€éº¼é€™æ¨£å¯«                                                                    |
| ----------------------------------------------------- | ---------------------------------- | ------------------------------------------------------------------------- |
| `dummy = ListNode(0); dummy.next = head`              | å»ºä¸€å€‹è™›æ“¬ç¯€é» `dummy`ï¼Œå®ƒçš„ä¸‹å€‹ç¯€é»æŒ‡å‘ `head`    | ç‚ºäº†è™•ç†è¦åˆªé™¤ç¬¬ä¸€å€‹ç¯€é»ï¼ˆå³ head æœ¬èº«è¢«ç§»é™¤ï¼‰çš„æƒ…æ³æ¯”è¼ƒå¥½è™•ç†ï¼Œç”¨ dummy å¯ä»¥çµ±ä¸€è™•ç†ï¼Œä¸éœ€ special case å¤ªå¤šã€‚     |
| `fast = dummy; slow = dummy`                          | è¨­å®šå…©å€‹æŒ‡é‡ï¼Œä¸€é–‹å§‹éƒ½å¾ dummy å‡ºç™¼              | fast ç”¨ä¾†å…ˆå¾€å‰è·‘ï¼Œslow å‰‡ç”¨ä¾†â€œè¿½â€fastï¼Œåˆ°ç‰¹å®šè·é›¢å¾Œå¯ä»¥å®šä½è¦åˆªçš„ç¯€é»çš„å‰ä¸€å€‹ç¯€é»ã€‚                        |
| `for _ in range(n): fast = fast.next`                 | fast å…ˆç§»å‹• n æ­¥                       | è®“ fast å’Œ slow ä¹‹é–“æœ‰ n ç¯€é»çš„é–“è·ï¼Œé€™æ¨£ç•¶ fast åˆ°é”å°¾ç«¯æ™‚ï¼Œslow æ­£å¥½åœ¨ã€Œè¦åˆªé™¤ç¯€é»çš„å‰ä¸€å€‹ç¯€é»ã€ä½ç½®ã€‚         |
| `if not fast: return head.next`                       | å¦‚æœ fast å·²ç¶“è®Šæˆ `None`ï¼ˆåˆ°è¡¨å°¾å¾Œè¶…éï¼‰        | è¡¨ç¤ºæ•´å€‹ list çš„é•·åº¦æ­£å¥½æ˜¯ n æˆ–æ›´å°ï¼Œä½¿å¾—è¦åˆªé™¤çš„æ˜¯ head ç¯€é»æœ¬èº«ã€‚æ­¤æ™‚å¯ä»¥ç›´æ¥è·³é head å›å‚³ `head.next`ã€‚    |
| `while fast.next: fast = fast.next; slow = slow.next` | åŒæ™‚å¾€å‰ç§»å‹• fast å’Œ slowï¼Œç›´åˆ° fast åˆ°æœ€å¾Œä¸€å€‹ç¯€é» | å› ç‚º fast å…ˆèµ°é n æ­¥ï¼Œæ‰€ä»¥ç•¶ fast åˆ° list çš„æœ€å¾Œæ™‚ï¼Œslow æ­£å¥½åœ¨ã€Œè¢«åˆªç¯€é»çš„å‰ä¸€ç¯€é»ã€ã€‚                 |
| `slow.next = slow.next.next`                          | åˆªé™¤ç¯€é»ï¼šè·³é slow çš„ä¸‹ä¸€å€‹ç¯€é»ï¼ˆå³è¢«åˆªæ‰çš„ç¯€é»ï¼‰       | é€™æ¨£å°±å¾éˆçµä¸²åˆ—ä¸­ç§»é™¤äº†ç¬¬ n å€‹å¾å°¾ç«¯ç®—èµ·çš„ç¯€é»ã€‚                                                |
| `return dummy.next`                                   | å›å‚³ä¿®æ”¹å¾Œçš„ head                        | dummy.next æ˜¯æ–°çš„ headï¼ˆå¯èƒ½åŸæœ¬çš„ head æ²’è¢«åˆªï¼Œä¹Ÿå¯èƒ½åŸ head è¢«åˆªï¼Œé‚£ dummy.next è‡ªå‹•æŒ‡å‘æ–°çš„ç¬¬ä¸€ç¯€é»ï¼‰ã€‚ |

---

## ğŸ§ª ç¯„ä¾‹ | Example

ç‚ºäº†å¹«ä½ ç†è§£ï¼Œé€™è£¡ç”¨ä¸€å€‹å…·é«”ä¾‹å­ï¼š

- éˆè¡¨ï¼š 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5

- n = 2ï¼ˆè¦ç§»é™¤å€’æ•¸ç¬¬ 2 å€‹ç¯€é»ï¼Œä¹Ÿå°±æ˜¯å€¼ç‚º 4 çš„ç¯€é»ï¼‰

æµç¨‹ï¼š

1. å»ºç«‹ dummy(0) â†’ 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5
   
   fast = dummy, slow = dummy

2. for è®“ fast ç§»å‹• 2 æ­¥ï¼š

    - ç¬¬ä¸€æ­¥ï¼šfast â†’ 1

    - ç¬¬äºŒæ­¥ï¼šfast â†’ 2

3. æª¢æŸ¥ if not fast: fast ç¾åœ¨ä¸æ˜¯ Noneï¼Œæ‰€ä»¥ç¹¼çºŒã€‚

4. é€²å…¥ while fast.next: è¿´åœˆï¼Œfast å’Œ slow ä¸€èµ·ç§»å‹•ç›´åˆ° fast.next ç‚º Noneï¼š

    - fast at 2, slow at dummy â†’ both ç§»å‹• â†’ fast at 3, slow at 1

    - fast at 3, slow at 1 â†’ both ç§»å‹• â†’ fast at 4, slow at 2

    - fast at 4, slow at 2 â†’ both ç§»å‹• â†’ fast at 5, slow at 3

    - ç¾åœ¨ fast.next æ˜¯ Noneï¼ˆfast åœ¨æœ€å¾Œä¸€ç¯€é» 5ï¼‰ï¼Œåœæ­¢

5. æ­¤æ™‚ slow åœ¨ç¯€é»å€¼ç‚º 3 çš„ç¯€é»ã€‚
    - slow.next æ˜¯ç¯€é» 4 â†’ é€™æ˜¯è¦åˆªé™¤çš„ç¯€é»

    - slow.next = slow.next.next â†’ è·³éç¯€é» 4ï¼Œè®“ 3 æŒ‡å‘ 5

6. å›å‚³ dummy.next â†’ åŸä¾† head ä»æ˜¯ 1ï¼Œå› æ­¤æ•´å€‹ä¿®æ”¹å¾Œçš„éˆè¡¨æ˜¯ï¼š 1 â†’ 2 â†’ 3 â†’ 5

---

## â± è¤‡é›œåº¦åˆ†æ | Time & Space Complexity
| åˆ†é¡          | è¤‡é›œåº¦                                                                |
| ----------- | ------------------------------------------------------------------ |
| æ™‚é–“è¤‡é›œåº¦ Time  | **O(n)**ï¼Œn æ˜¯éˆè¡¨ç¯€é»æ•¸é‡ã€‚fast æŒ‡é‡å…ˆèµ° n æ­¥ + then both æŒ‡é‡èµ°ç›´åˆ°å°¾ç«¯ï¼Œç¸½å…±æœ€å¤šéæ­·ä¸€æ¬¡æ•´å€‹éˆè¡¨ã€‚ |
| ç©ºé–“è¤‡é›œåº¦ Space | **O(1)**ï¼Œåªç”¨å›ºå®šæ•¸é‡çš„æŒ‡é‡è®Šæ•¸å’Œ dummy ç¯€é»ï¼Œä¸é¡å¤–ç”¨éš¨ `n` æˆé•·çš„è³‡æ–™çµæ§‹ã€‚                  |

---

## âœï¸ æˆ‘å­¸åˆ°äº†ä»€éº¼ | What I Learned

- ä½¿ç”¨ dummy ç¯€é»å¯ä»¥ä½¿ç§»é™¤ç¬¬ä¸€å€‹ç¯€é»æˆ–æ•´å€‹ head è¢«åˆªé™¤ç­‰é‚Šç•Œæƒ…æ³è™•ç†ä¸€è‡´ã€ç°¡æ½”ã€‚

- fastâ€‘slow é›™æŒ‡é‡æŠ€å·§åœ¨ linked list ä¸­æ˜¯ç¶“å…¸æ¨¡å¼ï¼šå…ˆè®“ fast å¿«è·‘ï¼ˆæˆ–ä¿æŒ gapï¼‰ï¼Œå†å…©æŒ‡é‡ä¸€èµ·èµ°ï¼Œé€™æ¨£å¯ä»¥åœ¨ä¸€æ¬¡éæ­·ä¸­è§£ä¸€äº›ã€Œå¾å°¾ç«¯æ•¸ã€é€™æ¨£çš„å•é¡Œã€‚

- ä¸€å®šè¦æ³¨æ„ç´°ç¯€ï¼šè‹¥ fast åœ¨å¿«è·‘ n æ­¥å¾Œè®Šæˆ Noneï¼Œä»£è¡¨è¦åˆªé™¤çš„æ˜¯ headï¼Œè¦ç‰¹æ®Šè™•ç†ã€‚

- é¢è©¦ä¸­è¬›é€™é¡Œæ™‚è¦æ¸…æ¥šæ•˜è¿°ã€Œå¿«æŒ‡é‡å…ˆç§»å‹• n æ­¥ â†’ gap â†’ åŒæ­¥ç§»å‹• â†’ slow åœ¨åˆªé™¤é»å‰ã€çš„æµç¨‹ã€‚